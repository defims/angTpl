!function(){function a(a){try{return Object.defineProperty(a,"x",{}),"x"in object}catch(b){}}if(Object.prototype.__defineGetter__&&!Object.defineProperty)Object.defineProperty=function(a,b,c){"get"in c&&a.__defineGetter__(b,c.get),"set"in c&&a.__defineSetter__(b,c.set)};else{{var b=a({});"undefined"==typeof document||a(document.createElement("div"))}!b&&window.VBArray}}(),function(a,b,c){function d(a,b,d){for(var e,f,g,h=n.watchList,i=h.length;i--;)e=h[i],"object"==typeof e&&e.obj==a&&e.prop==b&&(f=e);if(f||(f={obj:a,prop:b,subscribers:[]},h.push(f)),g=f.subscribers,g.push(d),a&&b!=c){var j={};j[b]=a[b];try{Object.defineProperty(j,b,Object.getOwnPropertyDescriptor(a,b))}catch(k){}Object.defineProperty(a,b,{get:function(){return j[b]},set:function(c){for(j[b]=c,"[object Array]"===Object.prototype.toString.call(c)&&ArrayObserve(a,b,function(){for(i=g.length;i-->0;)g[i].call(this)}),i=g.length;i-->0;)g[i].call(this)}}),"[object Array]"===Object.prototype.toString.call(a[b])&&ArrayObserve(a,b,function(){for(i=g.length;i-->0;)g[i].call(this)})}}function e(b){for(var c,d,e,f,g=[],h=a;b;){if(c=b.ElementBindScope,c&&c.model){d=c;break}if(f=b.parentElement)for(e=f.children,len=e.length;len--;)e[len]==b&&g.unshift(len);b=f}return d||(d={model:h},h.ElementBindScope=d),{scope:d,elementPath:g}}function f(a,b,c){var d,e,f,g=this,h=!0;for(a.childBinders||(a.childBinders=[]),d=a.childBinders;f--;)e=d[f],e.element==g&&e.type==c.type&&(e.elementPath=b,e.template=c.template,e.directive=c.directive,h=!1);h&&d.push({elementPath:b,template:c.template,directiveType:c.directiveType,directiveInfo:c.directiveInfo})}function g(a){return a.replace(/^\[/g,"").replace(/\[/g,".").replace(/\]/g,"").split(".")}function h(a,b){return"$index"==b?Number(a.index):b}function i(a,b,c){for(var d=g(c),e=h(a,d.pop());d.length;)b=b[h(a,d.shift())];return{object:b,property:e}}function j(a){return{isTemplateItem:!0,template:a,value:""}}function k(a){this.origin=a;for(var b,c=a.length,d=[],e="",f=!1;c--;)b=a[c],f&&"{"==b&&"{"==a[c-1]?(c--,e&&d.unshift(new j(e)),e="",f=!1):f||"}"!=b||"}"!=a[c-1]?e=b+e:(c--,e&&d.unshift(e),e="",f=!0);this.parsed=d}function l(a,b,e){if(!a.nodeType)throw"binding element is empty";if(1!=a.nodeType)throw"binding element is not an element";var f,g,h,j,k,l,m,o,p,q,r;if(q=n.directives[b.directiveType],!q)throw"directive "+b.directiveType+" does not exist, try to create it";for(f=q.render||function(){},g=q.addAttributeChangeListener||function(){},h=q.syncData||function(){},r=b.model,j=b.template.parsed,k=j.length;k--;)l=j[k],l.isTemplateItem&&(m=i(e,r,l.template),o=m.object,p=m.property,o&&p!=c&&function(a,b,c,e,f){Object.defineProperty(l,"value",{get:function(){return a[b]},set:function(c){a[b]=c}}),d(a,b,function(){f.call(c,e)})}(o,p,a,b,f));f.call(a,b),g(a,function(){h.call(a,b)})}function m(a,b,c,d){var h,i,j,m,n,o,p,q,r,s;for(a.length||(a=[a]),directiveArr=g(b),directiveType=directiveArr.shift(),d||"string"==typeof c&&(d=c,i=!0),h=a.length;h--;)j=a[h],o=e(j),p=o.scope,q=o.elementPath,s=i?p.model:c,j.ElementBindScope||(j.ElementBindScope={}),n=j.ElementBindScope,n.bindings||(n.bindings=[]),r=new k(d||""),m={directiveType:directiveType,directiveInfo:directiveArr,element:j,template:r,model:s},n.bindings.push(m),f.call(j,p,q,m),l(j,m,p)}function n(){var a=this,b=arguments;n.binding?n.binding.apply(a,b):m.apply(a,b)}n.watchList=[],n.utility={};var o=n.utility;o.templateArray2String=function(a){for(var b,c=a.length,d="";c--;)b=a[c],d=b.isTemplateItem?b.value+d:b+d;return d},o.matchSet=function(a,b){for(var c,d=a.template.parsed,e=d.length,f="",g=[];e--;)c=d[e],c.isTemplateItem?(f="(.*)"+f,g.unshift(c)):f=c+f;String(b).replace(new RegExp(f,"gim"),function(a){if(a)for(var b=arguments.length-3;b--;)g[b].value!=arguments[b+1]&&(g[b].value=arguments[b+1])})},o.bindChildren=function(a,b){if(a.childBinders)for(var c,d,e,f,g,h,i=a.childBinders,j=i.length;j--;){for(c=i[j],d=c.elementPath,e=d.length,g=b,f=0;e>f;f++)g=g.children[d[f]];"scope"==directiveType||"repeat"==directiveType||(h={directiveType:c.directiveType,directiveInfo:c.directiveInfo,element:g,template:c.template,model:a.model},l(g,h,a))}},n.directives={};var p=n.directives;p.textContent={};var q=p.textContent;q.render=function(a){var b=this,c=n.utility.templateArray2String(a.template.parsed);b.textContent!=c&&(b.textContent=c)},q.addAttributeChangeListener=function(a,b){var c=a.textContent;a.addEventListener("DOMSubtreeModified",function(){c!=a.textContent&&(b.call(a),c=a.textContent)},!1)},q.syncData=function(a){n.utility.matchSet(a,this.textContent)},p.attributes={};var r=p.attributes;r.render=function(a){for(var b,c,d,e,f,g,h,i,j,k=a.directiveInfo,h=k[0],l=this,m=a.template.parsed,n=m.length;n--;)if(c=m[n].value,"id"==h)l.id=c;else if("class"==h)d=c.length,u=l.ElementBindScope,u.retainClass||""==u.retainClass||(u.retainClass=l.className),i=typeof c,"string"==i?l.className=u.retainClass+" "+c:"object"==i&&(l.className=u.retainClass+" "+c.join(" "));else if("style"==h){if(k[1]){for(d=k.length,g=l.style,e=1;d-1>e;e++)g=g[k[e]];g[k[d-1]]=c}else if("string"==typeof c)for(j=c.split(";"),d=j.length;d--;)b=j[d].split(":"),l.style[b[0].replace(" ","")]=b[1];else if("object"==typeof c)for(f in c)l.style[f]=c[f]}else if("value"==h)l.value=c;else{for(d=k.length,h=l.attributes,e=0;d-1>e;e++)h[k[e]]||(h[k[e]]={}),h=h[k[e]];h[k[d-1]]=c}},p.dataset={};var s=p.dataset;s.render=function(a){var b,c=a.directiveInfo,d=c.length,e=this,f=c[0];for(b=1;d>b;b++)f+="-"+c[b];e.setAttribute("data-"+f,n.utility.templateArray2String(a.template.parsed))},p.event={};var t=p.event;t.render=function(a){var b,c,d=this,e=a.directiveInfo[0],f=a.model,g=a.template.parsed,h=g.length;if(0==h){if("function"==typeof f)d.addEventListener(e,f);else if("[object Array]"===Object.prototype.toString.call(f))for(l2=f.length;l2--;)c=f[l2],"function"==typeof c&&d.addEventListener(e,c)}else for(;h--;)b=g[h],b.isTemplateItem&&d.addEventListener(e,b.value)},p.scope={};var u=p.scope;u.render=function(a){this.ElementBindScope.model=a.model},p.repeat={};var v=p.repeat;v.render=function(a){var b,c,d,e,f,g=this,b=g.ElementBindScope,h=a.template.parsed[0].value,i=h.length;for(b.index||(b.index=0),b.instances||(b.instances=[]),b.prototype||(b.prototype=g),c=b.instances,e=0;i>e;e++)0==e?f=g:c[e-1]?f=c[e-1]:(d=g.cloneNode(!0),d.ElementBindScope={prototype:g,index:e,childBinders:b.childBinders},g.parentNode.insertBefore(d,f.nextSibling),c.push(d),f=d),f.ElementBindScope.model=h,n.utility.bindChildren(f.ElementBindScope,f)},v.addAttributeChangeListener=function(a){a.addEventListener("DOMSubtreeModified",function(){})},v.syncData=function(){},a.ElementBind=n}(window,document),function(window,document,undefined){function walkDocumentTree(a){var b,c="all"in document?document.all:c=document.getElementByTagName("*"),d=c.length;for(b=0;d>b;b++)a(c[b])}var attachEvent="attachEvent",addEventListener="addEventListener",readyEvent="DOMContentLoaded";document[addEventListener]||(addEventListener=document[attachEvent]?(readyEvent="onreadystatechange")&&attachEvent:""),window.domReady=function(a){/in/.test(document.readyState)?addEventListener?document[addEventListener](readyEvent,a,!1):setTimeout(function(){window.domReady(a)},9):a()},domReady(function(){walkDocumentTree(function(element){for(var attributes=element.attributes,attrLen=attributes.length,attribute,attrName;attrLen--;)attribute=attributes[attrLen],attrName=attribute.nodeName,attrValue=attribute.nodeValue,attrValue.match(/\{\{.*?\}\}/gim)&&(attrName.match(/data-attr-(.*)/gim)?ElementBind(element,"attributes."+RegExp.$1.replace("-","."),attrValue):attrName.match(/data-evt-(.*)/gim)?ElementBind(element,"event."+RegExp.$1.replace("-","."),attrValue):attrName.match(/data-dataset-(.*)/gim)?ElementBind(element,"dataset."+RegExp.$1.replace("-","."),attrValue):attrName.match(/data-repeat/gim)?ElementBind(element,"repeat",attrValue):attrName.match(/data-scope/gim)&&ElementBind(element,"scope",eval(attrValue)));for(var childNodes=element.childNodes,nodeLen=childNodes.length,childNode;nodeLen--;)childNode=childNodes[nodeLen],3==childNode.nodeType&&childNode.nodeValue.match(/\{\{.*?\}\}/gim)&&ElementBind(element,"textContent",childNode.nodeValue)})})}(window,document);